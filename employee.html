<!DOCTYPE html>
<html>
<head>
  <!-- template -->
  
  <!-- navigation bar -->
  <template id="sidenav">
    <div id="mySidenav" class="sidenav">
      <h3 class="w-bold-x site-title"></h3>
      <a href="javascript:void(0)" class="closebtn" onclick="openNav()">&times;</a>
      <a href="#" class="dash-act"><i class="fa fa-th-large"></i> Dashboard</a>
      <a href="#profile"><i class="fa fa-user"></i> Profile</a>
      <a href="#colleagues" class="emp-act"><i class="fa fa-users"></i> Colleagues</a>
      <a class="accordion"><i class="fa fa-calendar"></i> Schedule</a>
      <ul class="panel">
        <li><a href="#tasks"><i class="fa fa-list"></i> Tasks</a></li>
        <li><a href="#leave"><i class="fa fa-briefcase"></i> Leave</a></li>
        <li><a href="#reward"><i class="fa fa-trophy"></i> Ranking</a></li>
      </ul>
      <a class="accordion"><i class="fa fa-exchange"></i> Communication</a>
      <ul class="panel">
        <li><a href="#news"><i class="fa fa-newspaper-o"></i> News/Updates</a></li>
        <li><a href="#events"><i class="fa fa-calendar"></i> Events</a></li>
        <li><a href="#queries"><i class="fa fa-pencil"></i> Queries</a></li>
        <li><a href="#complaints"><i class="fa fa-file-o"></i> Complaints</a></li>
      </ul>
      <a href="#" class="w-text-red logout-btn"><i class="fa fa-power-off"></i> Logout</a>
    </div>
    <script src="./static/js/login.js"></script>
    <script>
      
      $('.logout-btn').click(function(e) {
        e.preventDefault();
        staff_logout();
      })
      var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight) {
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px";
    } 
  });
} 
    </script>
  </template>

  <!-- header -->
  <template id="header">
    <header>
      <form class="w-margin-right" id="search-form">
        <div class="input-group">
          <input type="text" class="form-control" placeholder="Search Anything" id="search">
          <div class="input-group-append">
            <span class="input-group-text" style="background:none;"><i class="fa fa-search"></i></span>
          </div>
        </div>
      </form>
      <div class="side-content">
        <a href="#notification" class="notification w-margin-right"><i class="fa fa-bell-o"></i> </a>
        <div class="side-content admin-pro w-margin-right">
          <img src="./static/image/avatar.png" alt="" class="admin-img" />
          <div class="h5">
            <span class="w-bold-x"><?print: localStorage.names?></span><br>
            <small class="w-bold"><?print: localStorage.position?></small>
          </div>
        </div>
        <div class="opennav" onclick="openNav()"><i class="fa fa-navicon"></i></div>
      </div>
    </header>
    
  </template>


  <!-- for large screen navigation -->
  <template id="dashboard">
    
        <?use-template: "sidenav"?>
        <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
        <main class="">
          <?use-template: "header"?>
          <div class="alert-note alert alert-danger">
            <i class="fa fa-warning"></i> Click <a class="w-text-blue" href="#company_profile">here</a> to add company details.
          </div>
          <h3>Welcome Back</h3>
          <p class="w-text-gray">Use the navigation bar for quick access to all our features</p>
          
          <div id="dash-wrapper">
            <div class="content-area">

              <div class="row mt-4">
                <div class="w-margin-bottom col-12 col-sm-12 col-md-12 col-lg-12 col-xl-5">
                  <div class="box shadow">
                    <div id="bar"></div>
                  </div>
                </div>
                <div class="col-12 col-sm-12 col-md-7 col-lg-7 col-xl-4">
                  <div class="box shadow">
                    <div id="donutTop"></div>
                  </div>
                </div>
                <div class="col-12 col-sm-12 col-md-5 col-lg-5 col-xl-3">
                  <div class="box shadow">
                    <div id="radialBar1"></div>
                  </div>
                </div>
              </div>

            </div>
          </div>
  
  
          <!-- Task Tables -->
          <div class="table-responsive">
            <table class="dash-table table">
              <thead style="background:#fff">
                <tr>
                  <th colspan="2" class="w-bold-x">Recent Tasks</th>
                  <th colspan="2"><u><a href="#logs">See All Tasks</a></u></th>
                </tr>
              </thead>
              <thead>
                <tr>
                  <th>Task Title</th>
                  <th>Deadline</th>
                  <th>Completed</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody class="emp-dash-task">
                <tr>
                  <td colspan="4" class="w-center">
                  <div class="loader">
                      <div class="ball w-black"></div>
                      <div class="ball w-black"></div>
                      <div class="ball w-black"></div>
                  </div>
                  </td>
              </tr>
              </tbody>
            </table>
          </div>

          <!-- Notification Tables -->
          <div class="table-responsive">
            <table class="dash-table table">
              <thead style="background:#fff">
                <tr>
                  <th colspan="2" class="w-bold-x">Recent News</th>
                  <th><u><a href="#news">See All News</a></u></th>
                </tr>
              </thead>
              <thead>
                <tr>
                  <th>News</th>
                  <th>Date</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody class="emp-dash-note">
                <tr>
                  <td colspan="3" class="w-center">
                  <div class="loader">
                      <div class="ball w-black"></div>
                      <div class="ball w-black"></div>
                      <div class="ball w-black"></div>
                  </div>
                  </td>
              </tr>
              </tbody>
            </table>
          </div>

          <!-- Queries Tables -->
          <div class="table-responsive">
            <table class="dash-table table">
              <thead style="background:#fff">
                <tr>
                  <th colspan="2" class="w-bold-x">Pending Queries</th>
                  <th><u><a href="#queries">See All Queries</a></u></th>
                </tr>
              </thead>
              <thead>
                <tr>
                  <th>Query</th>
                  <th>Date</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody class="emp-dash-query">
                <tr>
                  <td colspan="3" class="w-center">
                  <div class="loader">
                      <div class="ball w-black"></div>
                      <div class="ball w-black"></div>
                      <div class="ball w-black"></div>
                  </div>
                  </td>
              </tr>
              </tbody>
            </table>
          </div>

        </main>
        <script src="./static/js/dashboard.js"></script>
        <script src="./static/js/emp_chart.js"></script>
        <script>
          $('.dash-act').addClass('active')
        </script>
  </template>

  <!-- Employees Page -->
  <template id="colleagues">
    <?use-template: "sidenav"?>
    <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
    <main class="">
      <?use-template: "header"?>
      <div class="alert-note alert alert-danger">
        <i class="fa fa-warning"></i> Click <a class="w-text-blue" href="#company_profile">here</a> to add company details.
      </div>
      <div class="w-flex w-flex-wrap w-flex-between w-align-center">
        <div class="mb-2">
          <h3>Colleagues</h3>
          <p class="w-text-gray">Get Insight into full list of colleagues registered with the company</p>
        </div>
      </div>
      <!-- Tables -->
      <div class="table-responsive">
        <table class="emp-table table">
          <thead style="background:#fff">
            <tr>
              <th colspan="6">
                <form class="w-flex w-flex-between w-align-center">
                  <input type="number" class="form-control" id="emp_per_page" value="10" min="10" placeholder="List per page" style="max-width: 80px" />
                <div class="input-group" style="margin:0">
                  <input type="text" class="form-control" placeholder="Search Employee" id="emp_search" value="" />
                  <div class="input-group-append">
                    <span class="input-group-text" style="background:none;"><i class="fa fa-search"></i></span>
                  </div>
                </div>
                <select class="custom-select dept-filter">
                  <option value="" selected>All Department</option>
                </select>
                <select class="custom-select sort-filter">
                  <option value="first_name" selected>By Name (A-Z)</option>
                  <option value="-first_name">By Name (Z-A)</option>
                  <option value="id_no">By ID Number (0-9)</option>
                </select>
                <input type="hidden" id="emp_page" value="1" />
                </form>
              </th>
            </tr>
          </thead>
          <thead>
            <tr>
              <th>Names</th>
              <th>Staff ID</th>
              <th>Department</th>
              <th>Position</th>
              <th>Phone Number</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody class="emp-list">
            <tr>
              <td colspan="6" class="w-center">
              <div class="loader">
                  <div class="ball w-black"></div>
                  <div class="ball w-black"></div>
                  <div class="ball w-black"></div>
              </div>
              </td>
          </tr>
          </tbody>
        </table>
      </div>

      <div class="page_nos mt-3">
        <a href="#" class="page_no"><i class="fa fa-angle-left"></i></a>

        <a href="#" class="page_no"><i class="fa fa-angle-right"></i></a>
      </div>
    </main>

    <div class="add_edit_emp_con side-con">
      <div class="alert-note alert alert-danger">
        <i class="fa fa-warning"></i> Click <a class="w-text-blue" href="#company_profile">here</a> to add company details.
      </div>
      <div class="mb-2">
        <button class="add_emp_btn emp_back_btn"><i class="fa fa-arrow-left"></i></button>
        <h3>New Employee</h3>
        <p class="w-text-gray">Set up new employee profiles.</p>
      </div>

      <form class="row comp-form" id="add-emp-form">
        <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 w-padding">
          <div class="form-group">
            <label for="emp-fname"><span class="w-text-red w-bold">*</span> First Name:</label>
            <input type="text" class="form-control" id="emp-fname" required>
          </div>
          <div class="form-group">
            <label for="emp-lname"><span class="w-text-red w-bold">*</span> Last Name:</label>
            <input type="text" class="form-control" id="emp-lname" required>
          </div>
          <div class="form-group">
            <label for="emp-email"><span class="w-text-red w-bold">*</span> Email:</label>
            <input type="email" class="form-control" id="emp-email" required>
          </div>
          <div class="form-group">
            <label for="emp-number">Phone Number:</label>
            <input type="text" class="form-control" id="emp-number" placeholder="e.g 07011223344">
          </div>
        </div>
        <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 w-padding">
          <div class="form-group">
            <label for="emp-position"><span class="w-text-red w-bold">*</span> Select Position:</label>
            <select class="form-control positions" id="emp-position">
              <option selected>Select Position</option>
            </select>
          </div>
          <div class="form-group">
            <label for="emp-dept"><span class="w-text-red w-bold">*</span> Select Department:</label>
            <select class="form-control depts" id="emp-dept">
              
            </select>
          </div>
          <div class="form-group">
            <label for="emp-salary">Salary (in Naira):</label>
            <input type="number" class="form-control" id="emp-salary" value="0" min="0">
          </div>
          <div class="form-group">
            <label for="emp-appoint">Appointment Date:</label>
            <input type="date" class="form-control" id="emp-appoint" required value="2024-01-01">
          </div>
        </div>
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 w-padding">
          <button type="submit" class="btn btn-block form-btn emp-add-btn">Add Employee</button>
        </div>
      </form>
    </div>

    <div class="emp_det_con side-con">
      <div class="alert-note alert alert-danger">
        <i class="fa fa-warning"></i> Click <a class="w-text-blue" href="#company_profile">here</a> to add company details.
      </div>
      <div class="mb-2">
        <button class="add_emp_btn emp_back_btn2"><i class="fa fa-arrow-left"></i></button>
        <h3>Employee Profile</h3>
      </div>

      <form class="row comp-form">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 w-padding">
          <div class="company_image" style="margin-left: 20px;">
            <img src="" class="emp_image" alt="" />
          </div>
        </div>
        <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 w-padding">
          <div class="form-group">
            <label for="emp-fname2">First Name:</label>
            <input type="text" class="form-control" id="emp-fname2" readonly>
          </div>
          <div class="form-group">
            <label for="emp-lname2">Last Name:</label>
            <input type="text" class="form-control" id="emp-lname2" readonly>
          </div>
          <div class="form-group">
            <label for="emp-id2">Staff ID:</label>
            <input type="text" class="form-control" id="emp-id2" readonly>
          </div>
          <div class="form-group">
            <label for="emp-email2">Email:</label>
            <input type="email" class="form-control" id="emp-email2" readonly>
          </div>
          <div class="form-group">
            <label for="emp-number2">Phone Number:</label>
            <input type="text" class="form-control" id="emp-number2" readonly>
          </div>
          <div class="form-group">
            <label for="emp-position2">Position:</label>
            <input type="text" class="form-control" id="emp-position2" readonly>
          </div>
          
        </div>
        <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 w-padding">
          <div class="form-group">
            <label for="emp-dept2">Department:</label>
            <input type="text" class="form-control" id="emp-dept2" readonly>
          </div>
          <div class="form-group">
            <label for="emp-address2">Address:</label>
            <input type="text" class="form-control" id="emp-address2" readonly>
          </div>
          <div class="form-group">
            <label for="emp-city2">City/State:</label>
            <input type="text" class="form-control" id="emp-city2" readonly>
          </div>
          <div class="form-group">
            <label for="emp-nation">Nationality:</label>
            <input type="text" class="form-control" id="emp-nation" readonly>
          </div>
          <div class="form-group">
            <label for="emp-salary2">Salary (in Naira):</label>
            <input type="number" class="form-control" id="emp-salary2" readonly>
          </div>
          <div class="form-group">
            <label for="emp-appoint2">Appointment Date:</label>
            <input type="date" class="form-control" id="emp-appoint2" readonly>
          </div>
        </div>
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 w-padding">
          <button class="btn btn-block form-btn" disabled>Edit Profile</button>
        </div>
      </form>
    </div>

    <script src="./static/js/employees.js"></script>
    <script>
      $('.emp-act').addClass('active')
      $('#emp_search').on('input', function() {
        $('#emp_page').val(1);
        getEmployees();
      })
      $('#emp_per_page').on('input', function() {
        $('#emp_page').val(1);
        getEmployees();
      })
      $('.dept-filter').on('change', function() {
        $('#emp_page').val(1);
        getEmployees();
      })
      $('.sort-filter').on('change', function() {
        $('#emp_page').val(1);
        getEmployees();
      })
      $('.add_btn').click(function() {
        $('.add_edit_emp_con').addClass('active')
        getDepartments();
        getPositions();
      });
      $('.emp_back_btn').click(function() {
        $('.add_edit_emp_con').removeClass('active')
      });
      $('.emp_back_btn2').click(function() {
        $('.emp_det_con').removeClass('active')
      });
      $('#add-emp-form').submit(function(e) {
            e.preventDefault();
            addEmployee();
        })
    </script>
  </template>

  <!-- error 404 page -->
  <template id="404">
    <?include: "templates/_parts/404.html"?><?end?>
</template>

<!-- Routes -->
<!-- homepage -->
<template route="/">
  <?use-template: "dashboard"?>
</template>
<template route="/colleagues">
  <?use-template: "colleagues"?>
</template>

<!-- Standard Meta -->
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

<!-- Site Properties -->
<title></title>
<link rel="stylesheet" type="text/css" href="./static/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="./static/css/fontawesome.css">
<link rel="stylesheet" type="text/css" href="./static/css/rigan.css">
<link rel="stylesheet" type="text/css" href="./static/themes/w-theme-blue.css">
<link rel="stylesheet" type="text/css" href="./dist/semantic.min.css">
<link rel="stylesheet" type="text/css" href="./static/css/sweetalert.min.css">
<link rel="stylesheet" type="text/css" href="./static/css/nav.css">
<script src="./static/module/swif.js"></script>
<script src="./dist/jquery.min.js"></script>
<script src="./static/js/bootstrap.min.js"></script>
<script src="./static/js/sweetalert.min.js"></script>
<script src="./dist/semantic.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>                                                                                         

<script>
var on = XJSX.event.on,
emit = XJSX.event.emit;
emit("hashchange");
</script>

<style type="text/css">

</style>
</head>
<body>
  <script>
    if(!localStorage.api_key || !localStorage.account || !localStorage.names) {
      location.href = './index.html';
    }
</script>
  
<?on: "hashchange"?>

<?eval:
"var hash=location.hash
hash=hash.replace(/^\/?#\/?|^/img,'/')
var page=document.querySelector(`template[route='${hash}']`)||'404';"?>

<?use-template: page?>
<?end?>

<script src="./static/js/functions.js"></script>
</body>
</html>                                                                                                                                               